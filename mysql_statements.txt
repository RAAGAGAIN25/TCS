CREATE TABLE users_seq
(
  id INT NOT NULL AUTO_INCREMENT PRIMARY KEY
);


CREATE TABLE users
(
  id VARCHAR(7) NOT NULL PRIMARY KEY DEFAULT '0', username VARCHAR(30), password VARCHAR(20), division VARCHAR(10)
);


DELIMITER $$
CREATE TRIGGER tg_table1_insert
BEFORE INSERT ON users
FOR EACH ROW
BEGIN
  INSERT INTO users_seq VALUES (NULL);
  SET NEW.id = CONCAT('LIB', LPAD(LAST_INSERT_ID(), 3, '0'));
END$$
DELIMITER ;


CREATE TABLE Staff_info_seq (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT );


 CREATE TABLE Staff_info (id VARCHAR(8) PRIMARY KEY NOT NULL DEFAULT '0',
firstname VARCHAR(20),surname VARCHAR(20),Dob INT(10),Contact BIGINT(11),Email VARCHAR(25),Gender VARCHAR(6)
);


DELIMITER $$
CREATE TRIGGER tg_table2_insert
BEFORE INSERT ON Staff_info
FOR EACH ROW
BEGIN
  INSERT INTO Staff_info_seq VALUES (NULL);
  SET NEW.id = CONCAT('LBR', LPAD(LAST_INSERT_ID(), 3, '0'));
END$$
DELIMITER ;


CREATE TABLE Student_info_seq (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT );


 CREATE TABLE Student_info (id VARCHAR(8) PRIMARY KEY NOT NULL DEFAULT '0',
firstname VARCHAR(20),surname VARCHAR(20),Dob INT(10) DEFAULT (null) ,Contact BIGINT(11),Email VARCHAR(25),Gender VARCHAR(6)
);


DELIMITER $$
CREATE TRIGGER tg_table3_insert
BEFORE INSERT ON Student_info
FOR EACH ROW
BEGIN
  INSERT INTO Student_info_seq VALUES (NULL);
  SET NEW.id = CONCAT('STU', LPAD(LAST_INSERT_ID(), 3, '0'));
END$$
DELIMITER ;

CREATE TABLE Book_info_seq (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT );


 CREATE TABLE Book_info (id VARCHAR(8) PRIMARY KEY NOT NULL DEFAULT '0',
bookname VARCHAR(30),authorname VARCHAR(20),location_1 VARCHAR(20),location_2 VARCHAR(20),location_3 VARCHAR(20)
);


DELIMITER $$
CREATE TRIGGER tg_table4_insert
BEFORE INSERT ON Book_info
FOR EACH ROW
BEGIN
  INSERT INTO Book_info_seq VALUES (NULL);
  SET NEW.id = CONCAT('BOOK', LPAD(LAST_INSERT_ID(), 4, '0'));
END$$
DELIMITER ;